### Инструкция по созданию `service_account.json`

#### Шаг 1: Создание проекта в Google Cloud Platform (GCP)

1.  Перейдите в [консоль Google Cloud](https://console.cloud.google.com/). Войдите под тем же Google-аккаунтом, на котором находится ваша копия таблицы.
2.  Вверху страницы, рядом с логотипом Google Cloud, нажмите на выпадающий список проектов (если там уже выбран какой-то проект) и в открывшемся окне нажмите **"New Project"** (Новый проект).
3.  Придумайте имя для проекта, например, `Crypto Bot Sheets` и нажмите **"Create"** (Создать).

#### Шаг 2: Включение необходимых API

1.  Убедитесь, что выбран ваш новый проект (название должно быть видно вверху).
2.  В меню навигации (☰) выберите **"APIs & Services"** -> **"Library"** (API и сервисы -> Библиотека).
3.  В строке поиска найдите **"Google Sheets API"** и на открывшейся странице нажмите **"Enable"** (Включить).
4.  Вернитесь в библиотеку, найдите **"Google Drive API"** и тоже нажмите **"Enable"** (Включить). Он нужен для обнаружения таблиц и управления доступом.

#### Шаг 3: Создание сервисного аккаунта

1.  В том же разделе **"APIs & Services"** перейдите во вкладку **"Credentials"** (Учетные данные) в меню слева.
2.  Нажмите **"+ CREATE CREDENTIALS"** (+ Создать учетные данные) и выберите **"Service account"** (Сервисный аккаунт).
3.  **Заполните данные:**
    *   **Service account name:** Придумайте имя, например `telegram-bot-runner`.
    *   **Service account ID:** Сгенерируется автоматически.
    *   **Description:** (Необязательно) Краткое описание, например "Доступ к Google Таблицам для Telegram бота".
4.  Нажмите **"CREATE AND CONTINUE"** (Создать и продолжить).
5.  **Предоставление доступа (роль):** Этот шаг можно пропустить, так как мы дадим доступ напрямую из таблицы. Нажмите **"CONTINUE"** (Продолжить).
6.  На последнем шаге также ничего не заполняйте и нажмите **"DONE"** (Готово).

#### Шаг 4: Получение JSON-ключа

1.  Вы вернетесь на страницу **"Credentials"**. В списке сервисных аккаунтов найдите тот, который вы только что создали, и нажмите на его email.
2.  Перейдите на вкладку **"KEYS"** (Ключи).
3.  Нажмите **"ADD KEY"** (Добавить ключ) -> **"Create new key"** (Создать новый ключ).
4.  Выберите тип ключа **JSON** и нажмите **"CREATE"** (Создать).
5.  Браузер автоматически скачает файл. **Это и есть ваш ключ.**

**Важно:**
*   Переименуйте скачанный файл в `service_account.json`.
*   Положите этот файл в корневую папку вашего проекта.
*   **Никогда не публикуйте этот файл в открытом доступе** (например, на GitHub), так как он дает прямой доступ к вашим данным.

#### Шаг 5: Предоставление доступа к Google-таблице

Это финальный и самый важный шаг.

1.  Откройте скачанный `service_account.json` в любом текстовом редакторе.
2.  Найдите в нем строку с `"client_email"` и скопируйте значение — это будет email вида `telegram-bot-runner@<ваш-проект>.iam.gserviceaccount.com`.
3.  Откройте вашу Google-таблицу.
4.  Нажмите на кнопку **"Share"** (Настройки доступа) в правом верхнем углу.
5.  В поле для добавления пользователей вставьте скопированный email сервисного аккаунта.
6.  Убедитесь, что справа выбрана роль **"Editor"** (Редактор), так как боту нужно будет записывать данные в таблицу.
7.  Нажмите **"Share"** (Отправить/Предоставить доступ).